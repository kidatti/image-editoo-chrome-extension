<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>画像編集アプリ - Skitch風エディタ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <div class="sidebar">
            <div class="tool-group">
                <button class="icon-btn active" id="rectTool" data-tool="rectangle" title="四角形">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="4" y="6" width="16" height="12" stroke="currentColor" stroke-width="2" fill="none"/>
                    </svg>
                </button>
                <button class="icon-btn" id="roundRectTool" data-tool="roundedrectangle" title="角丸四角形">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="4" y="6" width="16" height="12" rx="3" ry="3" stroke="currentColor" stroke-width="2" fill="none"/>
                    </svg>
                </button>
                <button class="icon-btn" id="circleTool" data-tool="circle" title="円">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="12" cy="12" r="8" stroke="currentColor" stroke-width="2" fill="none"/>
                    </svg>
                </button>
                <button class="icon-btn" id="arrowTool" data-tool="arrow" title="矢印">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M6 18 L18 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        <path d="M12 6 L18 6 L18 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                    </svg>
                </button>
                <button class="icon-btn" id="textTool" data-tool="text" title="Text">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M7 4V2a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M7 4h10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        <path d="M12 4v16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        <path d="M9 20h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
                <button class="icon-btn" id="mosaicTool" data-tool="mosaic" title="Mosaic">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="4" y="4" width="4" height="4" fill="currentColor"/>
                        <rect x="10" y="4" width="4" height="4" fill="currentColor" opacity="0.7"/>
                        <rect x="16" y="4" width="4" height="4" fill="currentColor"/>
                        <rect x="4" y="10" width="4" height="4" fill="currentColor" opacity="0.7"/>
                        <rect x="10" y="10" width="4" height="4" fill="currentColor"/>
                        <rect x="16" y="10" width="4" height="4" fill="currentColor" opacity="0.7"/>
                        <rect x="4" y="16" width="4" height="4" fill="currentColor"/>
                        <rect x="10" y="16" width="4" height="4" fill="currentColor" opacity="0.7"/>
                        <rect x="16" y="16" width="4" height="4" fill="currentColor"/>
                    </svg>
                </button>
            </div>
            
            
            <div class="tool-group">
                <div class="color-picker-wrapper">
                    <button id="colorButton" class="color-button" style="background-color: #ff0000;" title="Color"></button>
                    <input type="color" id="colorPicker" value="#ff0000" style="display: none;">
                </div>
                
                <div class="stroke-width-wrapper">
                    <button id="strokeButton" class="stroke-button" title="Line width">
                        <span id="strokeDisplay">4</span>
                    </button>
                </div>
                
                <button class="icon-btn" id="deleteBtn" disabled title="Delete">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3 6h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        <path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M10 11v6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        <path d="M14 11v6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
                <button class="icon-btn" id="downloadBtn" title="Save">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <polyline points="7,10 12,15 17,10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <line x1="12" y1="15" x2="12" y2="3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
            </div>
        </div>
        
        <div class="canvas-container">
            <canvas id="canvas"></canvas>
            <div class="drop-zone" id="dropZone">
                <div class="initial-actions">
                    <div class="action-item">
                        <label for="imageInputDrop" class="action-button">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <line x1="16" y1="13" x2="8" y2="13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                <line x1="16" y1="17" x2="8" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                <polyline points="10,9 9,9 8,9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </label>
                        <input type="file" id="imageInputDrop" accept="image/*" style="display: none;">
                        <span>Load Image</span>
                    </div>
                    <div class="action-item">
                        <button class="action-button" id="pasteBtnDrop">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <rect x="8" y="2" width="8" height="4" rx="1" ry="1" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                        <span>Clipboard</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Color Picker Popup -->
        <div id="colorPickerPopup" class="popup" style="display: none;">
            <div class="popup-content">
                <div class="color-palette">
                    <div class="preset-color" data-color="#ff0000" style="background-color: #ff0000;"></div>
                    <div class="preset-color" data-color="#00ff00" style="background-color: #00ff00;"></div>
                    <div class="preset-color" data-color="#0000ff" style="background-color: #0000ff;"></div>
                    <div class="preset-color" data-color="#ffff00" style="background-color: #ffff00;"></div>
                    <div class="preset-color" data-color="#ff6600" style="background-color: #ff6600;"></div>
                    <div class="preset-color" data-color="#ff00ff" style="background-color: #ff00ff;"></div>
                    <div class="preset-color" data-color="#00ffff" style="background-color: #00ffff;"></div>
                    <div class="preset-color" data-color="#000000" style="background-color: #000000;"></div>
                    <div class="preset-color" data-color="#ffffff" style="background-color: #ffffff; border: 1px solid #ccc;"></div>
                    <div class="preset-color" data-color="#808080" style="background-color: #808080;"></div>
                </div>
                <div class="color-picker-section">
                    <input type="color" id="customColorPicker" value="#ff0000">
                </div>
            </div>
        </div>
        
        <!-- Stroke Width Popup -->
        <div id="strokeWidthPopup" class="popup" style="display: none;">
            <div class="popup-content">
                <div class="stroke-options">
                    <button class="stroke-option" data-width="2">
                        <div class="stroke-preview" style="height: 2px;"></div>
                    </button>
                    <button class="stroke-option" data-width="4">
                        <div class="stroke-preview" style="height: 4px;"></div>
                    </button>
                    <button class="stroke-option" data-width="6">
                        <div class="stroke-preview" style="height: 6px;"></div>
                    </button>
                    <button class="stroke-option" data-width="8">
                        <div class="stroke-preview" style="height: 8px;"></div>
                    </button>
                    <button class="stroke-option" data-width="10">
                        <div class="stroke-preview" style="height: 10px;"></div>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Font Size Popup -->
        <div id="fontSizePopup" class="popup" style="display: none;">
            <div class="popup-content">
                <div class="font-size-options">
                    <button class="font-size-option" data-size="12">12px</button>
                    <button class="font-size-option" data-size="16">16px</button>
                    <button class="font-size-option" data-size="20">20px</button>
                    <button class="font-size-option" data-size="24">24px</button>
                    <button class="font-size-option" data-size="32">32px</button>
                </div>
            </div>
        </div>
        
    </div>
    
    <script src="script.js"></script>
</body>
</html>